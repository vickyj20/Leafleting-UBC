<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Exercise</title>
	<meta charset="utf-8" />

	<!-- Leaflet styles and code. Place in the <head></head> element. -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />	
	<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>

	<!-- jQuery is a library that simplifies many things in JavaScript. 
	     We'll use it to retrieve data from the web. -->   
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
	
</head>
<body>

  <div id="mapid" style="width: 600px; height: 400px;"></div>
	<!-- Our web map will get placed into this div element -->

  <script>
    
    // Make a Leaflet map with L.map().
    // Store the map in the variable 'map'.
    // "mapid" is the 'id' of the DOM element to contain the map.
    var map = L.map('mapid',
                    { 
      			center: [49.2544, -123.2455],
      			zoom:15
    			}  // this object holds map options
              );
    
		var topoTiles = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png',
                      {
			maxZoom: 25,
			attribution: 'Basemap data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Basemap style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
			}
			).addTo(map);
    
    //var myPoint = L.marker(
    //                 [49.2660, -123.2562]
    //              ).addTo(map);
 
    function onEachField (feature, layer) {
if (feature.properties.NAME && feature.properties.SURFACE_TYPE) {
	layer.bindTooltip(feature.properties.NAME && feature.properties.SURFACE_TYPE);
}
    }
// load GeoJSON from a file on the web
    // $ is jQuery.
   
    
$.getJSON("https://raw.githubusercontent.com/UBCGeodata/ubcv-landscape/master/geojson/ubcv_fields.geojson",
     function(data){
    	// Once UBC trees GeoJSON layer is loaded
      	// Then add it to the map 
 L.geoJSON(data){
	 onEachFeature: onEachField
}).addTo(map);});
    
 
    function onEachField (feature, layer) {
if (feature.properties.NAME && feature.properties.SURFACE_TYPE) {
	layer.bindTooltip(feature.properties.NAME && feature.properties.SURFACE_TYPE);
}
    }
 	   
  </script>

</body>
</html>
